{% extends "base.html" %}

{% block content %}
    <h2>{{ page_title }}</h2>
    
    <p>This list includes **{{ total_member_goals }}** active goals set by the members of **{{ team.team_name }}**.</p>

    <div class="task-list-container">
        {% if member_goals %}
            <table class="task-table" border="1" style="width:100%; border-collapse: collapse;">
                <thead>
                    <tr style="background-color: #f2f2f2;">
                        <th>Goal Title</th>
                        <th>Owned By</th>
                        <th>Target Time</th>
                        <th>Real Time</th>
                        <th>Due Date</th>
                    </tr>
                </thead>
                <tbody>
                    {% for goal in member_goals %}
                    <tr>
                        <td>{{ goal.title }}</td>
                        <td><strong>{{ goal.user.username }}</strong></td>
                        <td>{{ goal.target_time|floatformat:1 }}</td>
                        <td>{{ goal.real_time|floatformat:1 }}</td>
                        <td>{{ goal.end_date|date:"Y-m-d" }}</td>
                    </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>No active goals found for members of this team.</p>
        {% endif %}
    </div>
    
    <div style="margin-top: 20px;">
        <a href="{% url 'teams:team_dashboard' team_id=team.id %}" class="button-secondary">Back to Team Dashboard</a>
    </div>
{% endblock %}